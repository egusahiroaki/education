# gitとは何か

gitを理解するまで。

# Gitというものに入る前に
## ソフトウェアのバージョン管理とは何か？

ソフトウェアはコードを書いたファイルで構成されている。  
ファイルのバージョンを管理する必要がある。  
バージョンの管理とは、いつどういう変更をした等の記録で、自分や他者がファイルの変更履歴への理解を容易にするために行う。  

## ファイルはどうやって管理するだろうか？
よくあるケース  

- ファイル名を識別子にする（20161102_14_yamada_テスト、テスト_ver2）  
頻繁に改変をするファイルだと大量にファイルが作られる。  

管理したいのはどの箇所を更新したか、といつ誰が編集したか？  

-> その情報をデータベースで管理しよう  
-> ファイル（-> ソフトウェア）のバージョン管理システム  

これの一つがGitである。  

# Gitとは何か？
フリーソフトウェアなので誰でも無料で利用できる分散型バージョン管理用ソフトウェア。  

分散型じゃないもの -> Subversion

## 特徴
- いろんなOSで使える
- 高速で動く

## 用語について

A「ローカルでgitで管理していたソースコードを（リモート）レポジトリにpushしたよー」  

B「じゃあpullするわ」  
C「これちゃんとコミットしてる？」  
D「昨日の改修部分をチェックアウトしたいんだけど。」  
E「ちょっとまだ開発し終わってないから、とりあえずマージするわ」  

### リポジトリ
ファイルの内容/更新履歴を記録するデータベースの事。
ローカルリポジトリとリモートレポジトリがある。

### コミット
ファイルの更新（編集/更新）を行った後に変更履歴を記録（データ）する事。  
コミットには

- 変更履歴
- ユーザー情報
- 日時
- テキスト（更新の概要を書く）
- 識別用のコミット ID（あるコミットと別のコミットを区別するために使う）-> 別名をつけられる（ブランチ名）

の情報が含まれる。

### チェックアウト checkout
リポジトリに記録されている、特定のコミット時のファイルを取り出すこと。  
チェックアウトすることでファイルを任意のコミット時点の状態に復元したりできる。  

### マージ merge
別の更新履歴（コミットログ）を取り込む作業。  
同一箇所に自分と他のユーザーが異なる変更を行っていた場合は競合（Conflict）が起きる。  

### クローン clone 
リモートリポジトリをコピーしてローカルリポジトリを作成すること。  

### プッシュ（push）とプル（pull）
リモートリポジトリにローカルリポジトリの内容を送信すること。  
その逆をプルという。  

# 複数人で開発する場合、外部の共有サーバーがあると便利
外部共有サーバーを起点にして、各開発者がpushするという形に出来る。  
外部共有サーバーとしては  

- 常時稼働できること

が必要。そしてサーバーの運用も必要。  

-> Github

# Githubについて
Gitを利用したソフトウェア開発を支援するサービス。
Gitで管理しているソフトウェアをホストできる共有レポジトリを提供する。  

Webブラウザを介して、リポジトリのファイルの確認、更新履歴を確認することが可能。  

さらに
- バグ報告（issue）
- 仕様記述（wiki）

もGithubの管理画面より登録可能。

gitを使うとき  
- ターミナルから使う  
- デスクトップアプリを介してgitを使う  

# 準備

- git のインストール  
- githubのアカウント作成  

# デモンストレーション

# githubにレポジトリを作って、ローカルで作ったファイルをホスティングする。


## initする。
gitリポジトリであることを示す。
## branchを切る

ブランチとは履歴の流れのラベルのようなもの。
リリース版ブランチ -> production
昨日追加の履歴 -> add-func
のような形でブランチ開発を行う。

## addする
ファイルやディレクトリをインデックスに登録すること。

### インデックスとは..  
そもそも作業しているディレクトリのことをワークツリーという。  
[レポジトリ] <- [インデックス] <- [ワークツリー]という順に並んでる。  
commitしたときにワークツリーの状態がレポジトリに反映されるのではなく、その間にあるインデックスに設定された状態を記録するようになっている。  
なので編集したファイルは一旦インデックスに登録する必要が有る。  
これは必要なファイルのみをコミットするために設けられた仕組みである。  

## commit する
インデックスに追加したファイルをコミットする。  

```
git commit
```

## コメントをつける

```
git commit -m “コミットの内容”
```

## pushする

```
git push origin <ブランチ名>
```

## logを見る

```
git log 
```

# 既存レポジトリをローカルに持ってくる（githubでの開発）

# コマンドあれこれ
- clone
- fetch
- pull
- add
- commit
- push